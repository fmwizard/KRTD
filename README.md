# Just Another Tic Tac Toe

一个基于Unity引擎开发的井字棋Demo，除任务要求的核心功能外，还设计开发了一套可视化关卡编辑工具，支持策划快速创建和测试自定义棋盘场景。

## 实现功能

### 1. 可视化关卡编辑器

一套直观的可视化棋局编辑工具：

- **自定义初始棋盘状态**：策划可以在该编辑器中直接绘制棋局，创建特定的游戏起始状态并保存为正式游戏的一部分，或导出分享给其他策划
- **策划友好型的数据序列化与反序列化**：使用易读性较强的JSON文件保存和加载棋盘配置，且为了让可能的编辑更加直观对JSON数据也进行了特定的格式化，使得策划甚至可以不打开编辑工具也能较为方便地直接修改JSON文件来创建关卡。如下图所示
- **实时编辑和验证**：支持撤销操作；保存时自动检测编辑的棋盘是否有效

通过这套编辑工具，策划可以：
- 预设初始棋子位置，展示特定的战术或情境
- 设计特殊的游戏谜题，例如经典的“残局”
- 快速测试边缘情况和游戏规则
- 提高游戏调试和迭代的效率

### 2. 灵活可配置的游戏系统

为适应不同的游戏需求，系统提供了高度可自定义的参数：

- **可变棋盘大小**：支持从3x3到9x9的棋盘大小，玩家可自由选择
- **自定义获胜条件**：可配置胜利所需的连续棋子数量，不限于传统的3子连线
- **多种游戏模式**：支持人机对战、玩家对战、AI对战

规则系统被设计为与棋盘大小解耦，使得同一套代码可以处理不同规模的游戏，具有良好的扩展性。

### 3. 统计与排名榜

系统会根据每轮对局的结果收集玩家对战数据并计算排名：

- **玩家数据库**：基于SQLite实现的本地数据库，永久保存所有玩家战绩记录
- **战绩统计**：自动记录每位玩家的胜、负、平局数据，计算综合得分（胜利3分，平局1分）和排名
- **游戏历史和回放**：记录玩家的所有历史对局详情，支持通过存储的移动序列回放任意历史对局以便分析研究

### 4. 智能AI系统

- **多级难度**：从基于随机落子的简单难度，到基于Alpha-Beta剪枝的Minimax算法的困难难度
- **动态深度控制**：根据棋盘大小自动调整搜索深度，平衡性能与AI强度
- **启发式评估**：对于大型棋盘使用启发式搜索来优化性能

## 使用说明

### 安装（目前仅支持在Windows平台运行）
1. 从本仓库的[Releases]()处获取游戏文件的压缩包。
2. 解压至任意目录，双击启动程序 TicTacToe.exe 即可开始游戏。

### 关卡编辑器
1. clone本仓库的工程源文件，在支持2022.3.51f1版本的unity中打开。
2. 双击Assets/Scenes下的EditorScene，切换到到关卡编辑器场景。
3. 在Hierarchy window下点击EditorManager，在其inspector中配置预设棋局的大小和胜利条件参数。
4. 在unity中启动EditorScene，即可在第3步中所配置的空白棋局上自由绘制，右侧的按钮提供了撤销当前绘制操作的功能。
5. 绘制完毕后点击“保存棋盘”，当前绘制的棋局便会保存为StreamingAssets目录下的一个JSON文件。JSON文件中的数据也进行了特定的格式化处理，以便在不想打开unity时直接编辑JSON文件的需要，但方便性仍然稍逊于基于unity的可视化编辑工具。
6. 切换到Assets/Scenes下的SampleScene，也就是游戏主程序的运行场景。进入游戏，在准备界面的下拉框里选择“关卡编辑器”，开始游戏后即可体验到刚才在编辑工具里创建的关卡。